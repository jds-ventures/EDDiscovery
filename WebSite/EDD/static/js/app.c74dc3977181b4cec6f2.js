webpackJsonp([0],{"+dUt":function(t,e,n){t.exports=n.p+"static/img/EdLogo600.d9f165e.png"},"/tE4":function(t,e){},MWdc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",[s("h1",[t._v("Elite Dangerous Discovery")]),t._v(" "),s("h1",[s("input",{attrs:{type:"button",value:"fullscreen",id:"fullscreen_button"},on:{click:function(e){return t.toggle_fullscreen()}}}),t._v(" "),s("img",{attrs:{src:n("+dUt"),alt:"EDD",width:"80"}})])])])},staticRenderFns:[]};var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",[e("ul",[e("li",[e("router-link",{attrs:{to:{name:"Home"}}},[this._v("History")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"Status"}}},[this._v("Status")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"Grid"}}},[this._v("Grid")])],1)])])])},staticRenderFns:[]};var r={name:"App",data:function(){return{fullscreenBgCol:"#000000"}},components:{AppHeader:n("VU/8")({methods:{toggle_fullscreen:function(){this.$parent.toggle()}}},o,!1,function(t){n("tSOx")},null,null).exports,AppNav:n("VU/8")({},a,!1,function(t){n("vaIc")},"data-v-318c0602",null).exports}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("fullscreen",{attrs:{background:this.fullscreenBgCol,id:"app"}},[e("app-header"),this._v(" "),e("app-nav"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(r,i,!1,function(t){n("dMvz")},null,null).exports,l=n("/ocq"),c=n("mvHQ"),d=n.n(c),p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",["/"==t.$route.path?n("button",{on:{click:function(e){t.loadAmount=t.loadAmount-100}}},[t._v("-")]):t._e(),t._v(" "),"/"==t.$route.path?n("button",{on:{click:t.loadMore}},[t._v("Load "+t._s(t.loadAmount)+" More")]):t._e(),t._v(" "),"/"==t.$route.path?n("button",{on:{click:function(e){t.loadAmount=t.loadAmount+100}}},[t._v("+")]):t._e(),t._v(" "),n("p",[t._v("(C) Elite Dangerous Discovery Team 2019-2020")]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"https://github.com/EDDiscovery/EDDiscovery/wiki"}},[this._v(" Help ")])])}]};var v=n("VU/8")({name:"Footer",data:function(){return{loadAmount:500}},methods:{loadMore:function(){this.$emit("loadMoreRecords",this.loadAmount)}},watch:{loadAmount:function(t,e){t<0&&(this.loadAmount=0)}}},p,!1,function(t){n("iMP1")},"data-v-93c93d40",null).exports,m=void 0;m="https:"===window.location.protocol?"wss:":"ws:",m+="//192.168.0.15:6502/";var f=new WebSocket(m,"EDDJSON"),h=new s.a({methods:{send:function(t){1===f.readyState&&f.send(t)}}});f.onopen=function(t){h.$emit("open",t)},f.onclose=function(t){h.$emit("close",t)},f.onmessage=function(t){h.$emit("message",t)},f.onerror=function(t){h.$emit("error",t)};var _=h,D={props:["Socket"],name:"Home",components:{AppFooter:v},data:function(){return{currentshiptype:"",jdata:"",statusData:[]}},created:function(){_.$on("open",this.onOpen),_.$on("close",this.onClose),_.$on("message",this.onMessage),_.$on("error",this.onError)},beforeDestroy:function(){_.$off("open",this.onOpen),_.$off("close",this.onClose),_.$off("message",this.onMessage),_.$off("error",this.onError)},computed:{journals:{get:function(){return this.$store.getters["journal/RETRIEVE"]}},statuses:{get:function(){return this.$store.getters["systemTable/RETRIEVE"]}},nextRow:{get:function(){return this.$store.getters["journal/NEXT_ROW"]}}},methods:{onOpen:function(t){this.currentshiptype="",this.RequestJournal(-1,50),this.RequestStatus(-1)},onClose:function(t){},onMessage:function(t){var e=JSON.parse(t.data);switch(e.responsetype){case"journalrequest":case"journalpush":this.$store.dispatch("journal/FILL_DATA",e);break;case"journalrefresh":this.$store.dispatch("journal/CLEAR_JOURNAL"),this.$store.dispatch("journal/FILL_DATA",e);break;case"status":this.$store.dispatch("systemTable/FILL_DATA",e)}},onError:function(t){console.error(t.data)},RequestStatus:function(t){var e={requesttype:"status",entry:t};_.send(d()(e))},RequestIndicator:function(){_.send(d()({requesttype:"indicator"}))},ClickJournalItem:function(t){console.log("Clicked"+t.target.tag),this.RequestStatus(t.target.tag)},RequestJournal:function(t,e){var n={requesttype:"journal",start:t,length:e};_.send(d()(n))},RequestMore:function(t){console.log(this.nextRow),this.nextRow>=0&&this.RequestJournal(this.nextRow,t)}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"wrapleft"},[n("article",{attrs:{id:"JArticle"}},[n("table",{attrs:{id:"Journal"}},t._l(t.journals,function(e){return n("tr",{key:e.id},[n("td",[n("div",{staticClass:"tooltip"},[n("img",{attrs:{src:e.image,alt:"",width:"24"}}),t._v(" "),n("span",{staticClass:"tooltiptext"},[t._v("Fred")])])]),t._v(" "),n("td",[t._v(t._s(e.t1))]),t._v(" "),n("td",[t._v(t._s(e.t2))]),t._v(" "),n("td",[t._v(t._s(e.t3))]),t._v(" "),n("td",[t._v(t._s(e.t4))])])}),0)])]),t._v(" "),n("aside",[n("table",{attrs:{id:"StarData"}},t._l(t.statuses,function(e){return n("tr",{key:e.id},[!0===e.link?n("a",{staticClass:"edsmetcbuttons",attrs:{href:e.title,target:"_blank"}},[t._v(t._s(e.text))]):t._e(),t._v(" "),!1===e.link?n("td",[t._v(t._s(e.title))]):t._e(),t._v(" "),!1===e.link?n("td",[t._v(t._s(e.text))]):t._e()])}),0)]),t._v(" "),n("app-footer",{on:{loadMoreRecords:t.RequestMore}})],1)},staticRenderFns:[]};var w=n("VU/8")(D,R,!1,function(t){n("/tE4")},"data-v-25b57cd3",null).exports,E={name:"Status",components:{AppFooter:v},computed:{statuses:{get:function(){return this.$store.getters["systemTable/RETRIEVE"]}}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"wrapleft"},[n("article",[n("table",{attrs:{id:"StarData"}},t._l(t.statuses,function(e){return n("tr",{key:e.id},[!0===e.link?n("a",{staticClass:"edsmetcbuttons",attrs:{href:e.title,target:"_blank"}},[t._v(t._s(e.text))]):t._e(),t._v(" "),!1===e.link?n("td",[t._v(t._s(e.title))]):t._e(),t._v(" "),!1===e.link?n("td",[t._v(t._s(e.text))]):t._e()])}),0)])]),t._v(" "),t._m(0)]),t._v(" "),t._m(1),t._v(" "),n("app-footer")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("aside",[e("div",{attrs:{id:"StatusBox"}},[e("table",{attrs:{id:"Status"}}),this._v(" "),e("div",{attrs:{id:"StatusOther"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"ActionBox"}},[e("p",[this._v("Actions")]),this._v(" "),e("table",{attrs:{id:"Actions"}})])}]};var g=n("VU/8")(E,S,!1,function(t){n("PwJH")},null,null).exports,y={name:"Grid",components:{AppFooter:v}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("app-footer")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[e("article",[e("div",{attrs:{id:"StatusBox"}},[e("table",{attrs:{id:"Status"}})]),this._v(" "),e("div",{attrs:{id:"ActionBox"}},[e("p",[this._v("Actions")]),this._v(" "),e("table",{attrs:{id:"Actions"}})])])])}]};var A=n("VU/8")(y,k,!1,function(t){n("MWdc")},null,null).exports;s.a.use(l.a);var $=new l.a({mode:"history",routes:[{path:"/",name:"Home",component:w},{path:"/status",name:"Status",component:g},{path:"/grid",name:"Grid",component:A}]}),T=n("NYxO"),b=n("lwq5"),x=n("UjVw"),J=n("ukYY"),B=n("mUbh");s.a.use(T.a);var C=new T.a.Store({state:b,getters:x,mutations:J,actions:B,modules:{journal:{namespaced:!0,state:{data:[],keys:[],nextRow:-9999},getters:{RETRIEVE:function(t){return t.data},NEXT_ROW:function(t){return t.nextRow}},mutations:{parseJournalRow:function(t,e){t.keys.includes(e[0])||(t.keys.push(e[0]),t.data.push({id:e[0],image:e[1][0],t1:e[1][1],t2:e[1][2],t3:e[1][3],t4:e[1][4]}))},resetState:function(t){t.data=[],t.keys=[]}},actions:{ADD_RECORD:function(t,e){(0,t.commit)("insertRecord",e)},CLEAR_JOURNAL:function(t){(0,t.commit)("resetState")},FILL_DATA:function(t,e){var n=t.commit,s=t.state,o=e.firstrow,a=0;if(o>=0){for(var r=e.rows,i=0;i<r.length;i++){var u=r[i];n("parseJournalRow",[a++,["http://192.168.0.15:6502/journalicons/"+u[0]+".png",u[1],u[2],u[3],u[4]]]),a++}var l=o-r.length;(-9999===s.nextRow||l<s.nextRow)&&(s.nextRow=l)}else n("parseJournalRow",[a++,["","No Data","","",""]])}}},systemTable:{namespaced:!0,state:{data:[],keys:[]},getters:{RETRIEVE:function(t){return t.data}},mutations:{parseJsonRow:function(t,e){if(!t.keys.includes(e[0])){t.keys.push(e[0]);var n=""!==e[4]?e[1][e[3]][e[4]]:e[1][e[3]];t.data.push({id:e[0],title:e[2],text:n,link:!1})}},parseRowButton:function(t,e){null!=e[1]&&(t.keys.includes(e[0])||(t.keys.push(e[0]),t.data.push({id:e[0],title:e[1][1],text:e[1][0],link:!0})))},parseRowString:function(t,e){t.keys.includes(e[0])||(t.keys.push(e[0]),t.data.push({id:e[0],title:e[1],text:e[2],link:!1}))},resetState:function(t){t.data=[],t.keys=[]}},actions:{FILL_DATA:function(t,e){var n=t.commit;n("resetState");var s=0;if(e.entry>=0){n("parseJsonRow",[s++,e,"Cmdr:","Commander",""]),n("parseJsonRow",[s++,e,"Star System","SystemData","System"]);var o=e.SystemData.EDSMID>0?["EDSM","https://www.edsm.net/system/id/"+e.SystemData.EDSMID+"/name/"+e.SystemData.System,!0]:null,a=e.EDDB.EDDBID>0?["EDDB","https://eddb.io/system/"+e.EDDB.EDDBID,!0]:null,r=e.EDDB.EDDBID>0?["ROSS","https://ross.eddb.io/system/update/"+e.EDDB.EDDBID,!0]:null;n("parseRowButton",[s++,o]),n("parseRowButton",[s++,a]),n("parseRowButton",[s++,r]),n("parseJsonRow",[s++,e,"Body Name:","Bodyname",""]),n("parseRowString",[s++,"Position:",e.SystemData.PosX+","+e.SystemData.PosY+","+e.SystemData.PosZ]),n("parseRowString",[s++,"To","Sol: "+e.SolDist+" Home:"+e.HomeDist]),n("parseJsonRow",[s++,e,"State","EDDB","State"]),n("parseJsonRow",[s++,e,"Allegiance","EDDB","Allegiance"]),n("parseJsonRow",[s++,e,"Government","EDDB","Gov"]),n("parseJsonRow",[s++,e,"Economy","EDDB","Economy"]),n("parseJsonRow",[s++,e,"Faction","EDDB","Faction"]),n("parseJsonRow",[s++,e,"Security","EDDB","Security"]),n("parseRowString",[s++,"Fuel",e.Ship.Fuel+" / "+e.Ship.TankSize]),n("parseRowString",[s++,"Mats/Data",e.Ship.Materials+" / "+e.Ship.Data]),n("parseJsonRow",[s++,e,"Materials","Ship","Materials"]),n("parseJsonRow",[s++,e,"Credits","Credits",""]),""!==e.Travel.Dist?0!==e.Travel.UnknownJumps?n("parseRowString",[s++,"Travel",e.Travel.Dist+" ly, "+e.Travel.Time+", "+e.Travel.Jumps+"(+"+e.Travel.UnknownJumps+")"]):n("parseRowString",[s++,"Travel",e.Travel.Dist+" ly, "+e.Travel.Time+", "+e.Travel.Jumps]):n("parseRowString",[s++,"Travel","-"])}}}}}}),M=n("4lnF"),F=n.n(M);s.a.use(F.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:$,store:C,components:{App:u},template:"<App/>"})},PwJH:function(t,e){},UjVw:function(t,e){},dMvz:function(t,e){},iMP1:function(t,e){},lwq5:function(t,e){},mUbh:function(t,e){},tSOx:function(t,e){},ukYY:function(t,e){},vaIc:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c74dc3977181b4cec6f2.js.map